<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Maraâ€“Serengeti Design Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />

    <!-- ä½ çš„æ ·å¼ -->
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="app-header-left">
        <h1 class="app-title">Maraâ€“Serengeti Design Lab</h1>
        <p class="app-subtitle">
          Design your own safari park layout in the Maraâ€“Serengeti landscape.
        </p>
      </div>
    </header>

    <main class="layout">
      <!-- å·¦è¾¹ï¼šåœ°å›¾ -->
      <section class="map-panel">
        <div id="map"></div>
      </section>

      <!-- å³è¾¹ï¼šäº¤äº’é¢æ¿ -->
      <aside class="sidebar">
        <!-- åœºæ™¯ä»‹ç» -->
        <section class="panel-card scenario-card">
          <h2>Scenario</h2>
          <p>
            Imagine you are a park planner in the Maraâ€“Serengeti region. Place
            facilities such as lodges, parking, viewpoints and restaurants to
            balance wildlife protection and visitor experience.
          </p>
        </section>

        <!-- è®¾è®¡å·¥å…· -->
        <section class="panel-card design-card">
          <h2>Design tools</h2>
          <p class="small-hint">
            Step 1: Choose a facility type. Step 2: Click on the map to place it
            inside the park.
          </p>

          <div class="design-tools" id="design-tools">
            <button data-tool="lodge" class="tool-button">
              ğŸ¨ Lodge
            </button>
            <button data-tool="parking" class="tool-button">
              ğŸ…¿ï¸ Parking
            </button>
            <button data-tool="food" class="tool-button">
              ğŸ½ï¸ Restaurant
            </button>
            <button data-tool="view" class="tool-button">
              ğŸ‘€ Viewpoint
            </button>
          </div>

          <p class="small-hint">
            Tip: Try clustering services near park edges and leaving core areas
            wilder.
          </p>

          <button id="btn-clear-design" class="secondary-button">
            Clear design
          </button>
        </section>

        <!-- è®¾è®¡æ‘˜è¦ + è¯„åˆ† -->
        <section class="panel-card result-card">
          <h2>Your design summary</h2>

          <div id="design-summary" class="design-summary">
            <p>No facilities placed yet. Select a tool and click on the map.</p>
          </div>

          <button id="btn-calc-score" class="primary-button">
            Calculate ecology & experience score
          </button>

          <div id="design-score" class="design-score"></div>
        </section>
      </aside>
    </main>

    <footer class="legend-panel">
      <div class="legend-inner">
        <div class="legend-row legend-row-top">
          <span class="legend-title">Legend</span>
        </div>

        <div class="legend-row legend-row-middle">
          <p class="legend-size">
            Facility markers show where you place lodges, parking, restaurants
            and viewpoints.
          </p>
          <div class="legend-color">
            <span class="legend-color-text">
              Park fill colour: darker = older designation, lighter = newer.
            </span>
            <span class="legend-scale-label">New</span>
            <span class="legend-gradient"></span>
            <span class="legend-scale-label">Old</span>
          </div>
        </div>

        <div class="legend-row legend-row-bottom">
          <p class="legend-attribution">
            Base map: Â© OpenStreetMap contributors Â· Tiles by HOT/OSM France Â·
            Built with Leaflet
          </p>
        </div>
      </div>
    </footer>

    <!-- Leaflet JS -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>

    <!-- ä½ çš„è„šæœ¬ -->
    <script src="./js/map.js"></script>
    <script src="./js/design.js"></script>
    <script src="./js/main.js"></script>
  </body>
</html>
