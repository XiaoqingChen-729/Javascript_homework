<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mara-Serengeti Design Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Title fonts (optional) -->
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Leaflet CSS (CDN fallback) -->
  <link
    id="leaflet-css"
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css"
    onerror="this.onerror=null;this.href='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';"
  />

  <!-- App CSS (supports either ./css/style.css or ./style.css) -->
  <link
    id="app-css"
    rel="stylesheet"
    href="./css/style.css"
    onerror="this.onerror=null;this.href='./style.css';"
  />
</head>

<body>
  <div class="page-bg">
    <div class="app-frame">

      <!-- é¡¶éƒ¨å¯¼èˆªæ¡ -->
      <header class="top-bar">
        <div class="top-bar-left">
          <div class="app-icon" aria-hidden="true"></div>
          <div class="app-title-block">
            <h1 class="app-title">Mara-Serengeti Design Studio</h1>
            <p class="app-subtitle">
              Design wildlife-friendly tourism routes and facilities in the Maraâ€“Serengeti landscape.
            </p>
          </div>
        </div>

        <div class="top-bar-right">
          <button class="top-icon-button" aria-label="Settings">âš™ï¸</button>
          <button class="top-icon-button" aria-label="Help">â“</button>
          <button id="btn-save-design" class="primary-chip">Save Design</button>
        </div>
      </header>

      <!-- ç¬¬äºŒè¡Œå°æ¡ï¼ˆåœºæ™¯ / è§†å›¾åˆ‡æ¢ï¼‰ -->
      <div class="sub-bar">
        <div class="sub-bar-left">
          <span class="sub-label">Scenario</span>
          <select class="sub-select" id="scenario-select">
            <option>Dry season â€“ classic migration</option>
            <option>Wet season â€“ calving grounds</option>
            <option>High tourist season</option>
          </select>
        </div>
        <div class="sub-bar-right">
          <span class="sub-label">Map view</span>
          <button class="ghost-chip ghost-chip--active" data-view="design">Design view</button>
          <button class="ghost-chip" data-view="habitat">Habitat view</button>
          <button class="ghost-chip" data-view="traffic">Traffic view</button>
        </div>
      </div>

      <!-- ä¸­é—´ä¸»åŒºåŸŸï¼šå·¦è¾¹åœ°å›¾ + å³è¾¹ä¸‰ä¸ª panel -->
      <main class="app-main">
        <section class="map-panel">
          <div id="map" aria-label="Design map canvas">
            <div id="mapStatus" class="map-status" role="status">
              Loading mapâ€¦
            </div>
          </div>

          <!-- å¯ä»¥æ”¾è·¯çº¿é•¿åº¦ã€å‘Šè­¦ç­‰å°æ ‡ç­¾ -->
          <div class="map-overlay-badge">
            No-go zone: 82 kmÂ²
          </div>
        </section>

        <!-- å³ä¾§ç«–æ’å¡ç‰‡ -->
        <aside class="side-panel">

          <!-- åœºæ™¯è¯´æ˜å¡ç‰‡ -->
          <section class="card scenario-card">
            <div class="card-header">
              <h2>Scenario</h2>
              <button class="card-close-btn" aria-label="Close">Ã—</button>
            </div>
            <p class="scenario-text">
              Wildebeest herds move between Mara River and the Serengeti plains.
              You are asked to design lodges, viewpoints and access routes that
              keep key habitats connected while offering memorable experiences.
            </p>
            <p class="scenario-text">
              Avoid placing facilities inside sensitive core zones. Try to keep
              distances reasonable so visitors can travel comfortably in a day.
            </p>
          </section>

          <!-- è®¾è®¡è¯„åˆ†å¡ç‰‡ -->
          <section class="card scores-card">
            <div class="card-header">
              <h2>Design Scores</h2>
              <div class="score-tabs">
                <button class="score-tab score-tab--active">Overview</button>
                <button class="score-tab">Facilities</button>
                <button class="score-tab">Routes</button>
              </div>
            </div>

            <div class="scores-body">
              <div class="score-row">
                <div class="score-label">Lodge Ã— Zone</div>
                <div class="score-value">3.2 kmÂ²</div>
              </div>

              <div class="score-block">
                <div class="score-block-title">Design summary</div>

                <div class="meter-row">
                  <span>Conservation impact</span>
                  <span class="meter-value">57%</span>
                </div>
                <div class="meter-bar">
                  <div class="meter-fill" style="width: 57%;"></div>
                </div>

                <div class="meter-row">
                  <span>Resail score</span>
                  <span class="meter-value">78%</span>
                </div>
                <div class="meter-bar">
                  <div class="meter-fill meter-fill--orange" style="width: 78%;"></div>
                </div>

                <div class="meter-row">
                  <span>No-go zone</span>
                  <span class="meter-value">12%</span>
                </div>
                <div class="meter-bar">
                  <div class="meter-fill meter-fill--red" style="width: 12%;"></div>
                </div>
              </div>
            </div>
          </section>

          <!-- è®¡ç®— / åé¦ˆå¡ç‰‡ -->
          <section class="card feedback-card">
            <div class="card-header">
              <h2>Calculate Final Score</h2>
            </div>
            <p class="scenario-text">
              When you are happy with your layout, run the final calculation to
              see how your design balances wildlife protection and visitor experience.
            </p>

            <button id="btn-calc-score" class="primary-button wide-button">
              Calculate score
            </button>

            <div id="design-score" class="design-score-text"></div>
          </section>

        </aside>
      </main>

      <!-- åº•éƒ¨å·¥å…·æ  -->
      <footer class="bottom-toolbar">
        <div class="toolbar-left">
          <button id="tool-lodge" class="tool-button" data-tool="lodge" data-tooltip="Eco âˆ’6 Â· Joy +4">
            <span class="tool-icon">ğŸ•ï¸</span>
            <span class="tool-label">Lodge</span>
          </button>
          <button id="tool-parking" class="tool-button" data-tool="parking" data-tooltip="Eco âˆ’10 Â· Joy +8">
            <span class="tool-icon">ğŸ…¿ï¸</span>
            <span class="tool-label">Parking</span>
          </button>
          <button id="tool-restaurant" class="tool-button" data-tool="restaurant" data-tooltip="Eco âˆ’7 Â· Joy +10">
            <span class="tool-icon">ğŸ½ï¸</span>
            <span class="tool-label">Restaurant</span>
          </button>
          <button id="tool-view" class="tool-button" data-tool="view" data-tooltip="Eco âˆ’1 Â· Joy +12">
            <span class="tool-icon">ğŸ‘€</span>
            <span class="tool-label">Viewpoint</span>
          </button>
        </div>

        <div class="toolbar-right">
          <span class="toolbar-text">
            Â© OpenStreetMap contributors Â· Powered by Leaflet
          </span>
        </div>
      </footer>

    </div>
  </div>

  <!-- Leaflet JS (CDN fallback) -->
  <script
    id="leaflet-js"
    src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"
    onerror="this.onerror=null;this.src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';"
  ></script>

  <!-- App JS (supports either ./js/main.js or ./main.js) -->
  <script
    id="app-js"
    src="./js/main.js"
    onerror="this.onerror=null;this.src='./main.js';"
  ></script>
</body>
</html>
